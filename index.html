<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>San Pablo Basquetbol - Club Deportivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .hero-bg {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #fbbf24 100%);
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .image-upload-area {
            border: 2px dashed #d1d5db;
            transition: border-color 0.3s ease;
        }
        .image-upload-area:hover {
            border-color: #3b82f6;
        }
        .schedule-cell {
            min-height: 60px;
        }
    </style>
</head>
<body class="h-full bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div id="header-logo" class="w-10 h-10 mr-3 rounded-full bg-blue-100 flex items-center justify-center">
                            <span class="text-xl">üèÄ</span>
                        </div>
                        <h1 class="text-2xl font-bold text-blue-600">San Pablo Basquetbol</h1>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#inicio" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Inicio</a>
                        <a href="#categorias" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Categor√≠as</a>
                        <a href="#noticias" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Noticias</a>
                        <a href="#galeria" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Galer√≠a</a>
                        <a href="#partidos" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Partidos</a>
                        <a href="#horarios" class="text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Horarios</a>
                        <button id="admin-toggle" onclick="toggleAdminMode()" class="text-gray-400 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">
                            <span id="admin-icon">üîí</span>
                        </button>
                        <a href="#unirse" class="bg-yellow-500 text-blue-900 hover:bg-yellow-400 px-4 py-2 rounded-md text-sm font-medium transition-colors font-bold">√önete</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="inicio" class="hero-bg text-white py-20 relative overflow-hidden">
            <!-- Imagen de fondo personalizada -->
            <div id="hero-background" class="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-0 transition-opacity duration-500"></div>
            
            <!-- Overlay para mejorar legibilidad del texto -->
            <div id="hero-overlay" class="absolute inset-0 bg-black opacity-0 transition-opacity duration-500"></div>
            
            <!-- Bot√≥n para subir imagen de fondo (solo admin) -->
            <div id="hero-upload-button" class="absolute top-4 right-4 hidden">
                <button onclick="uploadHeroImage()" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors backdrop-blur-sm border border-white border-opacity-30">
                    üì∏ Cambiar Fondo
                </button>
            </div>
            
            <!-- Bot√≥n para quitar imagen (solo admin) -->
            <div id="hero-remove-button" class="absolute top-4 left-4 hidden">
                <button onclick="removeHeroImage()" class="bg-red-500 bg-opacity-80 hover:bg-opacity-100 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                    üóëÔ∏è Quitar Fondo
                </button>
            </div>
            
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <h2 class="text-5xl font-bold mb-6 drop-shadow-lg">San Pablo Basquetbol</h2>
                <p class="text-xl mb-4 drop-shadow-md">Fundado en 2009</p>
                <p class="text-lg mb-8 max-w-3xl mx-auto drop-shadow-md">M√°s de 15 a√±os formando jugadores y promoviendo el b√°squetbol en nuestra comunidad. √önete a nuestra familia deportiva.</p>
                <a href="#unirse" class="bg-yellow-500 text-blue-900 hover:bg-yellow-400 px-8 py-3 rounded-lg text-lg font-semibold transition-colors inline-block shadow-lg">¬°√önete al Club!</a>
            </div>
        </section>

        <!-- Categor√≠as Section -->
        <section id="categorias" class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl font-bold text-center text-gray-900 mb-12">Nuestras Categor√≠as</h3>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Liga del Este -->
                    <div class="card-hover bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 text-center border-2 border-yellow-400">
                        <div class="text-4xl mb-4">üèÜ</div>
                        <h4 class="text-xl font-bold text-blue-900 mb-3">Liga del Este</h4>
                        <p class="text-gray-700 mb-4">Competimos en la prestigiosa Liga del Este, enfrentando a los mejores equipos de la regi√≥n.</p>
                        <div class="bg-yellow-500 text-blue-900 px-4 py-2 rounded-full text-sm font-bold">Activa</div>
                    </div>

                    <!-- Veteranos +50 -->
                    <div class="card-hover bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 text-center border-2 border-blue-400">
                        <div class="text-4xl mb-4">ü•á</div>
                        <h4 class="text-xl font-bold text-blue-900 mb-3">Veteranos +50</h4>
                        <p class="text-gray-700 mb-4">Para jugadores experimentados que mantienen viva la pasi√≥n por el b√°squetbol.</p>
                        <div class="bg-blue-600 text-yellow-100 px-4 py-2 rounded-full text-sm font-bold">Activa</div>
                    </div>

                    <!-- Veteranos +35 -->
                    <div class="card-hover bg-gradient-to-br from-blue-50 to-yellow-50 rounded-xl p-6 text-center border-2 border-blue-400">
                        <div class="text-4xl mb-4">üèÖ</div>
                        <h4 class="text-xl font-bold text-blue-900 mb-3">Veteranos +35</h4>
                        <p class="text-gray-700 mb-4">Categor√≠a para jugadores que buscan mantener su nivel competitivo.</p>
                        <div class="bg-yellow-500 text-blue-900 px-4 py-2 rounded-full text-sm font-bold">Activa</div>
                    </div>
                </div>



                <!-- Categor√≠as Formativas -->
                <div class="mt-6 bg-gradient-to-r from-yellow-50 to-blue-50 rounded-xl p-8 text-center border-2 border-yellow-400">
                    <div class="text-5xl mb-4">üåü</div>
                    <h4 class="text-2xl font-bold text-blue-900 mb-4">Categor√≠as Formativas</h4>
                    <p class="text-lg text-gray-700 mb-6">¬°Pr√≥ximamente! Estamos trabajando para incorporar categor√≠as juveniles e infantiles.</p>
                    
                    <!-- Categor√≠as Formativas Detalladas -->
                    <div class="bg-white rounded-lg p-6 mb-6 max-w-6xl mx-auto border-2 border-blue-300">
                        <h5 class="text-xl font-bold text-blue-900 mb-6 text-center">üèÄ Categor√≠as Formativas Planificadas</h5>
                        
                        <!-- Categor√≠as Menores -->
                        <div class="mb-6">
                            <h6 class="text-lg font-semibold text-blue-800 mb-4 text-center">üë∂ Categor√≠as Menores</h6>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-lg p-4 text-center border border-yellow-300">
                                    <div class="text-5xl mb-2">üë∂üèªüèÄ</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U7 - Mosquito</h6>
                                    <p class="text-xs text-gray-600">6 y 7 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2019-2018)</p>
                                </div>
                                <div class="bg-gradient-to-br from-yellow-50 to-blue-50 rounded-lg p-4 text-center border border-blue-300">
                                    <div class="text-5xl mb-2">üßíüèª‚õπÔ∏è‚Äç‚ôÇÔ∏è</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U9 - Pre-Mini</h6>
                                    <p class="text-xs text-gray-600">8 y 9 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2017-2016)</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-lg p-4 text-center border border-yellow-300">
                                    <div class="text-5xl mb-2">üëßüèªüèÄ</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U11 - Mini</h6>
                                    <p class="text-xs text-gray-600">10 y 11 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2015-2014)</p>
                                </div>
                            </div>
                        </div>

                        <!-- Categor√≠as Juveniles -->
                        <div class="mb-6">
                            <h6 class="text-lg font-semibold text-blue-800 mb-4 text-center">üèÜ Categor√≠as Juveniles</h6>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <div class="bg-gradient-to-br from-yellow-50 to-blue-50 rounded-lg p-4 text-center border border-blue-300">
                                    <div class="text-4xl mb-2">üèÄ‚≠ê</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U13</h6>
                                    <p class="text-xs text-gray-600">12 y 13 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2013-2012)</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-lg p-4 text-center border border-yellow-300">
                                    <div class="text-4xl mb-2">üèÜüî•</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U15</h6>
                                    <p class="text-xs text-gray-600">14 y 15 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2011-2010)</p>
                                </div>
                                <div class="bg-gradient-to-br from-yellow-50 to-blue-50 rounded-lg p-4 text-center border border-blue-300">
                                    <div class="text-4xl mb-2">ü•áüí™</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U17</h6>
                                    <p class="text-xs text-gray-600">16 y 17 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">(2009-2008)</p>
                                </div>
                                <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-lg p-4 text-center border border-yellow-300">
                                    <div class="text-4xl mb-2">üèÖüåü</div>
                                    <h6 class="font-bold text-blue-900 text-sm">U21</h6>
                                    <p class="text-xs text-gray-600">18-21 a√±os</p>
                                    <p class="text-xs text-blue-600 font-medium">Juvenil Superior</p>
                                </div>
                            </div>
                        </div>

                        <!-- Informaci√≥n Adicional -->
                        <div class="bg-gradient-to-r from-blue-100 to-yellow-100 rounded-lg p-4 text-center">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                <div>
                                    <div class="text-2xl mb-1">üë®‚Äçüè´</div>
                                    <div class="font-bold text-blue-900">Entrenadores</div>
                                    <div class="text-gray-600">Especializados</div>
                                </div>
                                <div>
                                    <div class="text-2xl mb-1">üèÄ</div>
                                    <div class="font-bold text-blue-900">Entrenamientos</div>
                                    <div class="text-gray-600">T√©cnica y t√°ctica</div>
                                </div>
                                <div>
                                    <div class="text-2xl mb-1">üèÜ</div>
                                    <div class="font-bold text-blue-900">Competencias</div>
                                    <div class="text-gray-600">Torneos locales</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    

                    
                    <div class="bg-yellow-500 text-blue-900 px-6 py-3 rounded-full text-sm font-bold inline-block">En Desarrollo</div>
                </div>
            </div>
        </section>

        <!-- Pr√≥ximos Partidos Section -->
        <section id="partidos" class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl font-bold text-center text-gray-900 mb-12">‚ö° Pr√≥ximos Partidos</h3>
                
                <!-- Formulario para agregar partidos (solo admin) -->
                <div id="match-form-section" class="bg-gradient-to-r from-blue-50 to-yellow-50 rounded-xl p-8 mb-12 border-2 border-blue-300 hidden">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-3">‚öΩ</div>
                        <h4 class="text-2xl font-bold text-blue-900 mb-2">Programar Nuevo Partido</h4>
                        <p class="text-gray-600">Agrega los detalles del pr√≥ximo encuentro</p>
                    </div>
                    
                    <form id="match-form" class="max-w-6xl mx-auto">
                        <div class="grid md:grid-cols-2 gap-8 mb-6">
                            <!-- Columna izquierda: Informaci√≥n del partido -->
                            <div class="space-y-4">
                                <div>
                                    <label for="match-date" class="block text-sm font-medium text-gray-700 mb-2">Fecha del Partido:</label>
                                    <input type="datetime-local" id="match-date" required
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                                
                                <div>
                                    <label for="match-location" class="block text-sm font-medium text-gray-700 mb-2">Lugar:</label>
                                    <input type="text" id="match-location" required
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                           placeholder="Ej: Gimnasio Municipal, Cancha Central">
                                </div>
                                
                                <div>
                                    <label for="match-category" class="block text-sm font-medium text-gray-700 mb-2">Categor√≠a:</label>
                                    <select id="match-category" required
                                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Seleccionar categor√≠a</option>
                                        <option value="liga-este">üèÜ Liga del Este</option>
                                        <option value="veteranos-50">ü•á Veteranos +50</option>
                                        <option value="veteranos-35">üèÖ Veteranos +35</option>
                                        <option value="amistoso">ü§ù Partido Amistoso</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label for="match-rival" class="block text-sm font-medium text-gray-700 mb-2">Equipo Rival:</label>
                                    <input type="text" id="match-rival" required
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                           placeholder="Nombre del equipo rival">
                                </div>
                            </div>
                            
                            <!-- Columna derecha: Escudos -->
                            <div class="space-y-6">
                                <!-- Escudo San Pablo -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Escudo San Pablo:</label>
                                    <div id="san-pablo-shield-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer h-32 flex flex-col justify-center" onclick="uploadSanPabloShield()">
                                        <div class="text-3xl mb-1">üèÄ</div>
                                        <p class="text-sm text-gray-600 font-medium">Subir escudo San Pablo</p>
                                    </div>
                                    <div id="san-pablo-shield-preview" class="hidden mt-2">
                                        <img id="san-pablo-preview-img" class="w-full h-32 object-contain rounded-lg border bg-white">
                                        <button type="button" onclick="removeSanPabloShield()" class="mt-2 text-red-600 hover:text-red-800 text-sm">
                                            ‚ùå Quitar escudo
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Escudo Rival -->
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Escudo Rival:</label>
                                    <div id="rival-shield-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer h-32 flex flex-col justify-center" onclick="uploadRivalShield()">
                                        <div class="text-3xl mb-1">üõ°Ô∏è</div>
                                        <p class="text-sm text-gray-600 font-medium">Subir escudo rival</p>
                                    </div>
                                    <div id="rival-shield-preview" class="hidden mt-2">
                                        <img id="rival-preview-img" class="w-full h-32 object-contain rounded-lg border bg-white">
                                        <button type="button" onclick="removeRivalShield()" class="mt-2 text-red-600 hover:text-red-800 text-sm">
                                            ‚ùå Quitar escudo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold transition-colors mr-4">
                                ‚ö° Programar Partido
                            </button>
                            <button type="button" onclick="clearMatchForm()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors">
                                üóëÔ∏è Limpiar
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Lista de partidos -->
                <div id="matches-container" class="space-y-6">
                    <!-- Los partidos se cargar√°n aqu√≠ din√°micamente -->
                </div>
                
                <!-- Mensaje cuando no hay partidos -->
                <div id="no-matches-message" class="text-center py-12">
                    <div class="text-6xl mb-4">‚ö°</div>
                    <h4 class="text-xl font-bold text-gray-600 mb-2">No hay partidos programados</h4>
                    <p class="text-gray-500">Los pr√≥ximos encuentros aparecer√°n aqu√≠</p>
                </div>
            </div>
        </section>

        <!-- Noticias Section -->
        <section id="noticias" class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl font-bold text-center text-gray-900 mb-12">üì∞ Noticias del Club</h3>
                
                <!-- Formulario para agregar noticias (solo admin) -->
                <div id="news-form-section" class="bg-gradient-to-r from-blue-50 to-yellow-50 rounded-xl p-8 mb-12 border-2 border-blue-300 hidden">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-3">üìù</div>
                        <h4 class="text-2xl font-bold text-blue-900 mb-2">Agregar Nueva Noticia</h4>
                        <p class="text-gray-600">Comparte las √∫ltimas novedades del club</p>
                    </div>
                    
                    <form id="news-form" class="max-w-4xl mx-auto">
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <!-- Columna izquierda: Formulario -->
                            <div class="space-y-4">
                                <div>
                                    <label for="news-title" class="block text-sm font-medium text-gray-700 mb-2">T√≠tulo de la Noticia:</label>
                                    <input type="text" id="news-title" required
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                           placeholder="Ej: Victoria en el √∫ltimo partido">
                                </div>
                                
                                <div>
                                    <label for="news-date" class="block text-sm font-medium text-gray-700 mb-2">Fecha:</label>
                                    <input type="date" id="news-date" required
                                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                                
                                <div>
                                    <label for="news-category" class="block text-sm font-medium text-gray-700 mb-2">Categor√≠a:</label>
                                    <select id="news-category" required
                                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Seleccionar categor√≠a</option>
                                        <option value="general">üèÄ General</option>
                                        <option value="liga-este">üèÜ Liga del Este</option>
                                        <option value="veteranos-50">ü•á Veteranos +50</option>
                                        <option value="veteranos-35">üèÖ Veteranos +35</option>
                                        <option value="formativas">üåü Formativas</option>
                                        <option value="eventos">üéâ Eventos</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Columna derecha: Imagen -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Imagen de la Noticia:</label>
                                <div id="news-image-upload" class="image-upload-area rounded-lg p-8 text-center cursor-pointer h-48 flex flex-col justify-center" onclick="uploadNewsImage()">
                                    <div class="text-4xl mb-2">üì∏</div>
                                    <p class="text-sm text-gray-600 font-medium">Click para subir imagen</p>
                                    <p class="text-xs text-gray-500 mt-1">JPG, PNG o GIF</p>
                                </div>
                                <div id="news-image-preview" class="hidden mt-2">
                                    <img id="news-preview-img" class="w-full h-48 object-cover rounded-lg border">
                                    <button type="button" onclick="removeNewsImage()" class="mt-2 text-red-600 hover:text-red-800 text-sm">
                                        ‚ùå Quitar imagen
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="news-content" class="block text-sm font-medium text-gray-700 mb-2">Contenido de la Noticia:</label>
                            <textarea id="news-content" rows="6" required
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                      placeholder="Escribe aqu√≠ el contenido completo de la noticia..."></textarea>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold transition-colors mr-4">
                                üì∞ Publicar Noticia
                            </button>
                            <button type="button" onclick="clearNewsForm()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors">
                                üóëÔ∏è Limpiar
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Lista de noticias -->
                <div id="news-container" class="space-y-8">
                    <!-- Las noticias se cargar√°n aqu√≠ din√°micamente -->
                </div>
                
                <!-- Mensaje cuando no hay noticias -->
                <div id="no-news-message" class="text-center py-12">
                    <div class="text-6xl mb-4">üì∞</div>
                    <h4 class="text-xl font-bold text-gray-600 mb-2">No hay noticias publicadas</h4>
                    <p class="text-gray-500">Las √∫ltimas novedades del club aparecer√°n aqu√≠</p>
                </div>
            </div>
        </section>

        <!-- Galer√≠a Section -->
        <section id="galeria" class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl font-bold text-center text-gray-900 mb-12">üì∏ Galer√≠a de Im√°genes</h3>
                
                <!-- Categor√≠as Actuales -->
                <div class="mb-12">
                    <h4 class="text-2xl font-bold text-blue-900 mb-6 text-center">üèÄ Categor√≠as Actuales</h4>
                    <div class="grid md:grid-cols-3 gap-6">
                        <!-- Liga del Este -->
                        <div class="bg-white rounded-xl p-6 shadow-lg border-2 border-yellow-400">
                            <div class="flex items-center justify-center mb-4">
                                <div class="text-3xl mr-2">üèÜ</div>
                                <h5 class="font-bold text-blue-900 text-lg">Liga del Este</h5>
                            </div>
                            <div id="liga-este-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer mb-4 hidden" onclick="uploadImage('liga-este')">
                                <div class="text-4xl mb-2">üì∏</div>
                                <p class="text-sm text-gray-600 font-medium">Subir fotos de partidos</p>
                            </div>
                            <div id="liga-este-gallery" class="grid grid-cols-2 gap-2"></div>
                        </div>

                        <!-- Veteranos +50 -->
                        <div class="bg-white rounded-xl p-6 shadow-lg border-2 border-blue-400">
                            <div class="flex items-center justify-center mb-4">
                                <div class="text-3xl mr-2">ü•á</div>
                                <h5 class="font-bold text-blue-900 text-lg">Veteranos +50</h5>
                            </div>
                            <div id="veteranos-50-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer mb-4 hidden" onclick="uploadImage('veteranos-50')">
                                <div class="text-4xl mb-2">üì∏</div>
                                <p class="text-sm text-gray-600 font-medium">Subir fotos del equipo</p>
                            </div>
                            <div id="veteranos-50-gallery" class="grid grid-cols-2 gap-2"></div>
                        </div>

                        <!-- Veteranos +35 -->
                        <div class="bg-white rounded-xl p-6 shadow-lg border-2 border-blue-400">
                            <div class="flex items-center justify-center mb-4">
                                <div class="text-3xl mr-2">üèÖ</div>
                                <h5 class="font-bold text-blue-900 text-lg">Veteranos +35</h5>
                            </div>
                            <div id="veteranos-35-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer mb-4 hidden" onclick="uploadImage('veteranos-35')">
                                <div class="text-4xl mb-2">üì∏</div>
                                <p class="text-sm text-gray-600 font-medium">Subir fotos del equipo</p>
                            </div>
                            <div id="veteranos-35-gallery" class="grid grid-cols-2 gap-2"></div>
                        </div>
                    </div>
                </div>

                <!-- Historia del Club -->
                <div class="mb-12">
                    <h4 class="text-2xl font-bold text-blue-900 mb-6 text-center">üìö Historia del Club</h4>
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Los Comienzos -->
                        <div class="bg-gradient-to-br from-yellow-50 to-blue-50 rounded-xl p-6 shadow-lg border-2 border-yellow-400">
                            <div class="flex items-center justify-center mb-4">
                                <div class="text-3xl mr-2">üå±</div>
                                <h5 class="font-bold text-blue-900 text-lg">Los Comienzos (2009)</h5>
                            </div>
                            <p class="text-gray-700 text-sm mb-4 text-center">Fotos hist√≥ricas de la fundaci√≥n del club</p>
                            <div id="comienzos-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer mb-4 hidden" onclick="uploadImage('comienzos')">
                                <div class="text-4xl mb-2">üì∏</div>
                                <p class="text-sm text-gray-600 font-medium">Subir fotos hist√≥ricas</p>
                            </div>
                            <div id="comienzos-gallery" class="grid grid-cols-2 gap-2"></div>
                        </div>

                        <!-- √öltimas Formativas -->
                        <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-xl p-6 shadow-lg border-2 border-blue-400">
                            <div class="flex items-center justify-center mb-4">
                                <div class="text-3xl mr-2">üåü</div>
                                <h5 class="font-bold text-blue-900 text-lg">√öltimas Formativas</h5>
                            </div>
                            <p class="text-gray-700 text-sm mb-4 text-center">Recuerdos de nuestras categor√≠as juveniles</p>
                            <div id="formativas-upload" class="image-upload-area rounded-lg p-6 text-center cursor-pointer mb-4 hidden" onclick="uploadImage('formativas')">
                                <div class="text-4xl mb-2">üì∏</div>
                                <p class="text-sm text-gray-600 font-medium">Subir fotos juveniles</p>
                            </div>
                            <div id="formativas-gallery" class="grid grid-cols-2 gap-2"></div>
                        </div>
                    </div>
                </div>

                <!-- Vida del Club -->
                <div class="mb-8">
                    <h4 class="text-2xl font-bold text-blue-900 mb-6 text-center">üéâ Vida del Club</h4>
                    <div class="bg-white rounded-xl p-8 shadow-lg border-2 border-yellow-400">
                        <div class="flex items-center justify-center mb-6">
                            <div class="text-4xl mr-3">üèÄ</div>
                            <h5 class="font-bold text-blue-900 text-xl">Club General</h5>
                        </div>
                        <p class="text-gray-700 mb-6 text-center">Eventos, celebraciones, entrenamientos y momentos especiales del club</p>
                        
                        <div class="grid md:grid-cols-2 gap-6 mb-6">
                            <div class="image-upload-area rounded-lg p-8 text-center cursor-pointer" onclick="uploadImagePublic('club-general')">
                                <div class="text-5xl mb-3">üì∏</div>
                                <p class="text-lg text-gray-600 font-medium">Subir fotos del club</p>
                                <p class="text-sm text-gray-500 mt-2">Eventos, entrenamientos, celebraciones</p>
                                <p class="text-xs text-green-600 font-medium mt-1">‚úÖ Abierto para todos</p>
                            </div>
                            <div class="bg-gradient-to-br from-blue-50 to-yellow-50 rounded-lg p-6 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="text-6xl mb-3">üèÜüéä</div>
                                    <p class="text-blue-900 font-bold">¬°Comparte nuestros</p>
                                    <p class="text-blue-900 font-bold">mejores momentos!</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="club-general-gallery" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"></div>
                    </div>
                </div>

                <!-- Contador de fotos -->
                <div class="bg-gradient-to-r from-blue-600 to-yellow-500 rounded-xl p-6 text-white text-center">
                    <h5 class="text-xl font-bold mb-2">üìä Estad√≠sticas de la Galer√≠a</h5>
                    <div class="grid grid-cols-2 md:grid-cols-6 gap-4 text-sm">
                        <div>
                            <div class="text-2xl font-bold" id="count-liga-este">0</div>
                            <div>Liga del Este</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold" id="count-veteranos-50">0</div>
                            <div>Veteranos +50</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold" id="count-veteranos-35">0</div>
                            <div>Veteranos +35</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold" id="count-comienzos">0</div>
                            <div>Comienzos</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold" id="count-formativas">0</div>
                            <div>Formativas</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold" id="count-club-general">0</div>
                            <div>Club General</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <!-- Horarios Section -->
        <section id="horarios" class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h3 class="text-3xl font-bold text-center text-gray-900 mb-12">Horarios de Entrenamiento</h3>
                
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gradient-to-r from-blue-600 to-yellow-500 text-white">
                                <tr>
                                    <th class="px-6 py-4 text-left font-semibold">D√≠a</th>
                                    <th class="px-6 py-4 text-left font-semibold">Liga del Este</th>
                                    <th class="px-6 py-4 text-left font-semibold">Veteranos +50</th>
                                    <th class="px-6 py-4 text-left font-semibold">Veteranos +35</th>
                                    <th class="px-6 py-4 text-left font-semibold">Formativas</th>
                                </tr>
                            </thead>
                            <tbody id="schedule-body">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Lunes</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 19:00 - 21:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 17:00 - 18:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 18:30 - 20:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Martes</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 19:00 - 21:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 17:00 - 18:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 18:30 - 20:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Mi√©rcoles</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 19:00 - 21:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 17:00 - 18:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 18:30 - 20:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Jueves</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 19:00 - 21:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 17:00 - 18:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 18:30 - 20:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Viernes</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 19:00 - 21:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 17:00 - 18:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 18:30 - 20:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">S√°bado</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 09:00 - 11:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 11:00 - 12:30">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ej: 12:30 - 14:00">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 font-medium text-gray-900">Domingo</td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Descanso">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Descanso">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Descanso">
                                    </td>
                                    <td class="px-6 py-4 schedule-cell">
                                        <input type="text" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Pr√≥ximamente">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="schedule-save-section" class="p-6 bg-gray-50 text-center hidden">
                        <button onclick="saveSchedule()" class="bg-yellow-500 hover:bg-yellow-400 text-blue-900 px-6 py-3 rounded-lg font-bold transition-colors">
                            Guardar Horarios
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- √önirse Section -->
        <section id="unirse" class="py-16 bg-gradient-to-r from-blue-600 via-blue-700 to-yellow-500 text-white">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h3 class="text-3xl font-bold mb-6">¬°√önete a San Pablo Basquetbol!</h3>
                <p class="text-xl mb-8">¬øListo para formar parte de nuestra familia deportiva? Completa el formulario de inscripci√≥n y comienza tu aventura con nosotros.</p>
                <a href="https://forms.gle/Kdxj86vf7z6FgpKcA" target="_blank" rel="noopener noreferrer" class="bg-yellow-500 text-blue-900 hover:bg-yellow-400 px-8 py-4 rounded-lg text-lg font-bold transition-colors inline-block shadow-lg">
                    Completar Formulario de Inscripci√≥n
                </a>
                <p class="text-sm mt-4 opacity-90">El formulario se abrir√° en una nueva ventana</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h4 class="text-2xl font-bold mb-4">üèÄ San Pablo Basquetbol</h4>
                <p class="text-gray-400 mb-4">Fundado en 2009 - M√°s de 15 a√±os promoviendo el b√°squetbol</p>
                <p class="text-gray-400">¬© 2024 San Pablo Basquetbol. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Hidden file input for image uploads -->
    <input type="file" id="imageInput" accept="image/*" multiple style="display: none;" onchange="handleImageUpload(event)">
    <input type="file" id="newsImageInput" accept="image/*" style="display: none;" onchange="handleNewsImageUpload(event)">
    <input type="file" id="heroImageInput" accept="image/*" style="display: none;" onchange="handleHeroImageUpload(event)">
    <input type="file" id="sanPabloShieldInput" accept="image/*" style="display: none;" onchange="handleSanPabloShieldUpload(event)">
    <input type="file" id="rivalShieldInput" accept="image/*" style="display: none;" onchange="handleRivalShieldUpload(event)">


    <script>
        let currentCategory = '';
        let imageGalleries = {
            'liga-este': [],
            'veteranos-50': [],
            'veteranos-35': [],
            'comienzos': [],
            'formativas': [],
            'club-general': []
        };

        // Sistema de noticias
        let newsArticles = [];
        let currentNewsImage = null;

        // Sistema de imagen de fondo del banner
        let heroBackgroundImage = null;

        // Sistema de partidos
        let matches = [];
        let currentSanPabloShield = null;
        let currentRivalShield = null;

        // Sistema de autenticaci√≥n
        const ADMIN_PASSWORD = 'sanpablo2024'; // Contrase√±a del administrador
        let isAuthenticated = false;
        let authTimeout = null;



        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Funciones de autenticaci√≥n
        function toggleAdminMode() {
            if (isAuthenticated) {
                // Cerrar sesi√≥n de administrador
                isAuthenticated = false;
                if (authTimeout) clearTimeout(authTimeout);
                updateAdminUI();
                showMessage('Sesi√≥n de administrador cerrada', 'info');
            } else {
                // Solicitar contrase√±a
                showPasswordModal();
            }
        }

        function updateAdminUI() {
            const adminIcon = document.getElementById('admin-icon');
            const adminToggle = document.getElementById('admin-toggle');
            
            if (isAuthenticated) {
                adminIcon.textContent = 'üîì';
                adminToggle.classList.remove('text-gray-400');
                adminToggle.classList.add('text-green-600');
                adminToggle.title = 'Modo Administrador Activo - Click para cerrar sesi√≥n';
                
                // Mostrar botones de subida protegidos
                showProtectedUploadButtons();
            } else {
                adminIcon.textContent = 'üîí';
                adminToggle.classList.remove('text-green-600');
                adminToggle.classList.add('text-gray-400');
                adminToggle.title = 'Activar Modo Administrador';
                
                // Ocultar botones de subida protegidos
                hideProtectedUploadButtons();
            }
        }

        function showProtectedUploadButtons() {
            const protectedCategories = ['liga-este', 'veteranos-50', 'veteranos-35', 'comienzos', 'formativas'];
            protectedCategories.forEach(category => {
                const uploadButton = document.getElementById(category + '-upload');
                if (uploadButton) {
                    uploadButton.classList.remove('hidden');
                }
            });
            
            // Mostrar bot√≥n de guardar horarios
            const scheduleSaveSection = document.getElementById('schedule-save-section');
            if (scheduleSaveSection) {
                scheduleSaveSection.classList.remove('hidden');
            }
            
            // Mostrar formulario de noticias
            const newsFormSection = document.getElementById('news-form-section');
            if (newsFormSection) {
                newsFormSection.classList.remove('hidden');
            }
            
            // Mostrar formulario de partidos
            const matchFormSection = document.getElementById('match-form-section');
            if (matchFormSection) {
                matchFormSection.classList.remove('hidden');
            }
            
            // Mostrar botones del banner hero
            const heroUploadButton = document.getElementById('hero-upload-button');
            const heroRemoveButton = document.getElementById('hero-remove-button');
            if (heroUploadButton) {
                heroUploadButton.classList.remove('hidden');
            }
            if (heroRemoveButton && heroBackgroundImage) {
                heroRemoveButton.classList.remove('hidden');
            }
        }

        function hideProtectedUploadButtons() {
            const protectedCategories = ['liga-este', 'veteranos-50', 'veteranos-35', 'comienzos', 'formativas'];
            protectedCategories.forEach(category => {
                const uploadButton = document.getElementById(category + '-upload');
                if (uploadButton) {
                    uploadButton.classList.add('hidden');
                }
            });
            
            // Ocultar bot√≥n de guardar horarios
            const scheduleSaveSection = document.getElementById('schedule-save-section');
            if (scheduleSaveSection) {
                scheduleSaveSection.classList.add('hidden');
            }
            
            // Ocultar formulario de noticias
            const newsFormSection = document.getElementById('news-form-section');
            if (newsFormSection) {
                newsFormSection.classList.add('hidden');
            }
            
            // Ocultar formulario de partidos
            const matchFormSection = document.getElementById('match-form-section');
            if (matchFormSection) {
                matchFormSection.classList.add('hidden');
            }
            
            // Ocultar botones del banner hero
            const heroUploadButton = document.getElementById('hero-upload-button');
            const heroRemoveButton = document.getElementById('hero-remove-button');
            if (heroUploadButton) {
                heroUploadButton.classList.add('hidden');
            }
            if (heroRemoveButton) {
                heroRemoveButton.classList.add('hidden');
            }
        }

        function requestAdminAccess(action, category = null, imageId = null) {
            if (!isAuthenticated) {
                showMessage('Activa el modo administrador primero (üîí en el men√∫)', 'info');
                return false;
            }
            return true;
        }

        function showPasswordModal() {
            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            overlay.id = 'password-modal';

            // Crear modal
            const modal = document.createElement('div');
            modal.className = 'bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl';
            
            modal.innerHTML = `
                <div class="text-center mb-6">
                    <div class="text-4xl mb-3">üîê</div>
                    <h3 class="text-xl font-bold text-blue-900 mb-2">Acceso de Administrador</h3>
                    <p class="text-gray-600">Ingresa la contrase√±a para continuar</p>
                </div>
                
                <div class="mb-6">
                    <label for="admin-password" class="block text-sm font-medium text-gray-700 mb-2">Contrase√±a:</label>
                    <input type="password" id="admin-password" 
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                           placeholder="Ingresa la contrase√±a">
                    <div id="password-error" class="text-red-500 text-sm mt-2 hidden">Contrase√±a incorrecta</div>
                </div>
                
                <div class="flex gap-3">
                    <button onclick="closePasswordModal()" 
                            class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-3 rounded-lg font-medium transition-colors">
                        Cancelar
                    </button>
                    <button onclick="verifyPassword()" 
                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                        Acceder
                    </button>
                </div>
            `;

            overlay.appendChild(modal);
            document.body.appendChild(overlay);

            // Enfocar el input
            setTimeout(() => {
                document.getElementById('admin-password').focus();
            }, 100);

            // Permitir Enter para enviar
            document.getElementById('admin-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyPassword();
                }
            });
        }

        function verifyPassword() {
            const password = document.getElementById('admin-password').value;
            const errorDiv = document.getElementById('password-error');

            if (password === ADMIN_PASSWORD) {
                // Contrase√±a correcta
                isAuthenticated = true;
                closePasswordModal();
                updateAdminUI();
                
                // Establecer timeout de 30 minutos
                if (authTimeout) clearTimeout(authTimeout);
                authTimeout = setTimeout(() => {
                    isAuthenticated = false;
                    updateAdminUI();
                    showMessage('Sesi√≥n de administrador expirada', 'info');
                }, 30 * 60 * 1000); // 30 minutos

                showMessage('¬°Modo administrador activado! Sesi√≥n v√°lida por 30 minutos', 'success');
            } else {
                // Contrase√±a incorrecta
                errorDiv.classList.remove('hidden');
                document.getElementById('admin-password').value = '';
                document.getElementById('admin-password').focus();
            }
        }

        function closePasswordModal() {
            const modal = document.getElementById('password-modal');
            if (modal) {
                modal.remove();
            }
        }

        // Image upload functionality
        function uploadImage(category) {
            if (!requestAdminAccess()) return;
            currentCategory = category;
            document.getElementById('imageInput').click();
        }

        // Public image upload for club-general
        function uploadImagePublic(category) {
            currentCategory = category;
            document.getElementById('imageInput').click();
        }

        function handleImageUpload(event) {
            const files = event.target.files;
            if (files.length === 0 || !currentCategory) return;

            let uploadedCount = 0;
            const totalFiles = Array.from(files).filter(file => file.type.startsWith('image/')).length;

            for (let file of files) {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageData = {
                            id: Date.now() + Math.random(),
                            src: e.target.result,
                            name: file.name
                        };
                        
                        imageGalleries[currentCategory].push(imageData);
                        displayImages(currentCategory);
                        
                        uploadedCount++;
                        if (uploadedCount === totalFiles) {
                            saveGalleries();
                            const categoryNames = {
                                'liga-este': 'Liga del Este',
                                'veteranos-50': 'Veteranos +50',
                                'veteranos-35': 'Veteranos +35',
                                'comienzos': 'Los Comienzos',
                                'formativas': 'Formativas',
                                'club-general': 'Club General'
                            };
                            showMessage(`¬°${totalFiles} imagen(es) subida(s) a ${categoryNames[currentCategory]}!`, 'success');
                        }
                    };
                    reader.readAsDataURL(file);
                }
            }
            
            // Reset the input
            event.target.value = '';
        }

        function saveGalleries() {
            localStorage.setItem('sanPabloGalleries', JSON.stringify(imageGalleries));
        }

        function loadGalleries() {
            const savedGalleries = localStorage.getItem('sanPabloGalleries');
            if (savedGalleries) {
                imageGalleries = JSON.parse(savedGalleries);
                Object.keys(imageGalleries).forEach(category => {
                    displayImages(category);
                });
            }
            updateAllCounts();
        }

        function displayImages(category) {
            const gallery = document.getElementById(category + '-gallery');
            const images = imageGalleries[category];
            
            gallery.innerHTML = '';
            
            images.forEach(image => {
                const imageContainer = document.createElement('div');
                imageContainer.className = 'relative group';
                
                // Ajustar altura seg√∫n la categor√≠a
                const heightClass = category === 'club-general' ? 'h-24' : 'h-20';
                
                imageContainer.innerHTML = `
                    <img src="${image.src}" alt="${image.name}" class="w-full ${heightClass} object-cover rounded border shadow-sm hover:shadow-md transition-shadow">
                    <button onclick="${category === 'club-general' ? `removeImagePublic('${category}', '${image.id}')` : `removeImageWithAuth('${category}', '${image.id}')`}" 
                            class="absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center font-bold">
                        √ó
                    </button>
                `;
                
                gallery.appendChild(imageContainer);
            });
            
            // Actualizar contador
            updateImageCount(category);
        }

        function updateImageCount(category) {
            const count = imageGalleries[category].length;
            const countElement = document.getElementById(`count-${category}`);
            if (countElement) {
                countElement.textContent = count;
            }
        }

        function updateAllCounts() {
            Object.keys(imageGalleries).forEach(category => {
                updateImageCount(category);
            });
        }

        function removeImageWithAuth(category, imageId) {
            if (!requestAdminAccess()) return;
            removeImage(category, imageId);
        }

        function removeImage(category, imageId) {
            imageGalleries[category] = imageGalleries[category].filter(img => img.id != imageId);
            displayImages(category);
            saveGalleries();
            showMessage('Imagen eliminada correctamente', 'success');
        }

        // Public image removal for club-general
        function removeImagePublic(category, imageId) {
            imageGalleries[category] = imageGalleries[category].filter(img => img.id != imageId);
            displayImages(category);
            saveGalleries();
            showMessage('Imagen eliminada correctamente', 'success');
        }

        // Schedule functionality
        function saveSchedule() {
            const scheduleData = {};
            const rows = document.querySelectorAll('#schedule-body tr');
            
            rows.forEach((row, index) => {
                const day = row.cells[0].textContent;
                const inputs = row.querySelectorAll('input');
                scheduleData[day] = {
                    'Liga del Este': inputs[0].value,
                    'Veteranos +50': inputs[1].value,
                    'Veteranos +35': inputs[2].value,
                    'Formativas': inputs[3].value
                };
            });
            
            // Store in localStorage
            localStorage.setItem('sanPabloSchedule', JSON.stringify(scheduleData));
            
            // Show success message
            showMessage('¬°Horarios guardados exitosamente!', 'success');
        }

        function loadSchedule() {
            const savedSchedule = localStorage.getItem('sanPabloSchedule');
            if (savedSchedule) {
                const scheduleData = JSON.parse(savedSchedule);
                const rows = document.querySelectorAll('#schedule-body tr');
                
                rows.forEach((row, index) => {
                    const day = row.cells[0].textContent;
                    if (scheduleData[day]) {
                        const inputs = row.querySelectorAll('input');
                        inputs[0].value = scheduleData[day]['Liga del Este'] || '';
                        inputs[1].value = scheduleData[day]['Veteranos +50'] || '';
                        inputs[2].value = scheduleData[day]['Veteranos +35'] || '';
                        inputs[3].value = scheduleData[day]['Formativas'] || '';
                    }
                });
            }
        }

        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            let bgColor = 'bg-red-500';
            if (type === 'success') bgColor = 'bg-green-500';
            if (type === 'info') bgColor = 'bg-blue-500';
            
            messageDiv.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium ${bgColor}`;
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 4000);
        }

        // Logo functionality
        function uploadLogo() {
            document.getElementById('logoInput').click();
        }

        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                showMessage('Por favor selecciona una imagen v√°lida', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                clubLogo = e.target.result;
                displayLogo();
                saveLogo();
                showMessage('¬°Escudo subido exitosamente!', 'success');
            };
            reader.readAsDataURL(file);
            
            // Reset the input
            event.target.value = '';
        }

        function displayLogo() {
            if (clubLogo) {
                // Show in main section
                const placeholder = document.getElementById('logo-placeholder');
                const display = document.getElementById('logo-display');
                const logoImg = document.getElementById('club-logo');
                
                if (placeholder && display && logoImg) {
                    placeholder.classList.add('hidden');
                    display.classList.remove('hidden');
                    logoImg.src = clubLogo;
                }
                
                // Show in header
                const headerLogo = document.getElementById('header-logo');
                if (headerLogo) {
                    headerLogo.innerHTML = `<img src="${clubLogo}" class="w-full h-full rounded-full object-cover border-2 border-yellow-400" alt="Escudo San Pablo">`;
                }
            }
        }

        function removeLogo() {
            clubLogo = null;
            document.getElementById('logo-placeholder').classList.remove('hidden');
            document.getElementById('logo-display').classList.add('hidden');
            
            // Reset header logo
            const headerLogo = document.getElementById('header-logo');
            headerLogo.innerHTML = '<span class="text-xl">üèÄ</span>';
            
            // Remove from localStorage
            localStorage.removeItem('sanPabloLogo');
            showMessage('Escudo eliminado', 'success');
        }

        function saveLogo() {
            if (clubLogo) {
                localStorage.setItem('sanPabloLogo', clubLogo);
            }
        }

        function loadLogo() {
            const savedLogo = localStorage.getItem('sanPabloLogo');
            if (savedLogo) {
                clubLogo = savedLogo;
                displayLogo();
            }
        }

        // Funciones de noticias
        function uploadNewsImage() {
            document.getElementById('newsImageInput').click();
        }

        function handleNewsImageUpload(event) {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                showMessage('Por favor selecciona una imagen v√°lida', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                currentNewsImage = e.target.result;
                
                // Mostrar preview
                document.getElementById('news-image-upload').classList.add('hidden');
                document.getElementById('news-image-preview').classList.remove('hidden');
                document.getElementById('news-preview-img').src = currentNewsImage;
            };
            reader.readAsDataURL(file);
            
            // Reset input
            event.target.value = '';
        }

        function removeNewsImage() {
            currentNewsImage = null;
            document.getElementById('news-image-upload').classList.remove('hidden');
            document.getElementById('news-image-preview').classList.add('hidden');
        }

        function clearNewsForm() {
            document.getElementById('news-form').reset();
            removeNewsImage();
            // Establecer fecha actual por defecto
            document.getElementById('news-date').value = new Date().toISOString().split('T')[0];
        }

        // Manejar env√≠o del formulario de noticias
        document.addEventListener('DOMContentLoaded', function() {
            const newsForm = document.getElementById('news-form');
            if (newsForm) {
                newsForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const title = document.getElementById('news-title').value.trim();
                    const date = document.getElementById('news-date').value;
                    const category = document.getElementById('news-category').value;
                    const content = document.getElementById('news-content').value.trim();
                    
                    if (!title || !date || !category || !content) {
                        showMessage('Por favor completa todos los campos obligatorios', 'error');
                        return;
                    }
                    
                    const newsArticle = {
                        id: Date.now(),
                        title: title,
                        date: date,
                        category: category,
                        content: content,
                        image: currentNewsImage,
                        timestamp: new Date().toISOString()
                    };
                    
                    newsArticles.unshift(newsArticle); // Agregar al inicio
                    saveNews();
                    displayNews();
                    clearNewsForm();
                    
                    showMessage('¬°Noticia publicada exitosamente!', 'success');
                });
            }
            
            // Establecer fecha actual por defecto
            const newsDateInput = document.getElementById('news-date');
            if (newsDateInput) {
                newsDateInput.value = new Date().toISOString().split('T')[0];
            }
        });

        function saveNews() {
            localStorage.setItem('sanPabloNews', JSON.stringify(newsArticles));
        }

        function loadNews() {
            const savedNews = localStorage.getItem('sanPabloNews');
            if (savedNews) {
                newsArticles = JSON.parse(savedNews);
                displayNews();
            }
        }

        function displayNews() {
            const container = document.getElementById('news-container');
            const noNewsMessage = document.getElementById('no-news-message');
            
            if (newsArticles.length === 0) {
                container.innerHTML = '';
                noNewsMessage.classList.remove('hidden');
                return;
            }
            
            noNewsMessage.classList.add('hidden');
            
            container.innerHTML = newsArticles.map(article => {
                const categoryIcons = {
                    'general': 'üèÄ',
                    'liga-este': 'üèÜ',
                    'veteranos-50': 'ü•á',
                    'veteranos-35': 'üèÖ',
                    'formativas': 'üåü',
                    'eventos': 'üéâ'
                };
                
                const categoryNames = {
                    'general': 'General',
                    'liga-este': 'Liga del Este',
                    'veteranos-50': 'Veteranos +50',
                    'veteranos-35': 'Veteranos +35',
                    'formativas': 'Formativas',
                    'eventos': 'Eventos'
                };
                
                const formattedDate = new Date(article.date).toLocaleDateString('es-ES', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                return `
                    <article class="bg-white rounded-xl shadow-lg overflow-hidden border-2 border-gray-200 hover:border-blue-300 transition-colors">
                        <div class="md:flex">
                            ${article.image ? `
                                <div class="md:w-1/3">
                                    <img src="${article.image}" alt="${article.title}" class="w-full h-64 md:h-full object-cover">
                                </div>
                            ` : ''}
                            <div class="${article.image ? 'md:w-2/3' : 'w-full'} p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                                        ${categoryIcons[article.category]} ${categoryNames[article.category]}
                                    </span>
                                    <time class="text-sm text-gray-500">${formattedDate}</time>
                                </div>
                                
                                <h3 class="text-xl font-bold text-gray-900 mb-3">${article.title}</h3>
                                
                                <div class="text-gray-700 leading-relaxed mb-4">
                                    ${article.content.split('\n').map(paragraph => 
                                        paragraph.trim() ? `<p class="mb-2">${paragraph}</p>` : ''
                                    ).join('')}
                                </div>
                                
                                ${isAuthenticated ? `
                                    <div class="flex justify-end">
                                        <button onclick="deleteNews(${article.id})" 
                                                class="text-red-600 hover:text-red-800 text-sm font-medium">
                                            üóëÔ∏è Eliminar
                                        </button>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </article>
                `;
            }).join('');
        }

        function deleteNews(articleId) {
            if (!requestAdminAccess()) return;
            
            if (confirm('¬øEst√°s seguro de que quieres eliminar esta noticia?')) {
                newsArticles = newsArticles.filter(article => article.id !== articleId);
                saveNews();
                displayNews();
                showMessage('Noticia eliminada correctamente', 'success');
            }
        }

        // Funciones para imagen de fondo del banner
        function uploadHeroImage() {
            if (!requestAdminAccess()) return;
            document.getElementById('heroImageInput').click();
        }

        function handleHeroImageUpload(event) {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                showMessage('Por favor selecciona una imagen v√°lida', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                heroBackgroundImage = e.target.result;
                displayHeroBackground();
                saveHeroBackground();
                showMessage('¬°Imagen de fondo actualizada!', 'success');
                
                // Mostrar bot√≥n de quitar si est√° en modo admin
                if (isAuthenticated) {
                    const heroRemoveButton = document.getElementById('hero-remove-button');
                    if (heroRemoveButton) {
                        heroRemoveButton.classList.remove('hidden');
                    }
                }
            };
            reader.readAsDataURL(file);
            
            // Reset input
            event.target.value = '';
        }

        function displayHeroBackground() {
            const heroBackground = document.getElementById('hero-background');
            const heroOverlay = document.getElementById('hero-overlay');
            
            if (heroBackgroundImage && heroBackground && heroOverlay) {
                heroBackground.style.backgroundImage = `url(${heroBackgroundImage})`;
                heroBackground.style.opacity = '1';
                heroOverlay.style.opacity = '0.4'; // Overlay semi-transparente para legibilidad
            }
        }

        function removeHeroImage() {
            if (!requestAdminAccess()) return;
            
            heroBackgroundImage = null;
            const heroBackground = document.getElementById('hero-background');
            const heroOverlay = document.getElementById('hero-overlay');
            const heroRemoveButton = document.getElementById('hero-remove-button');
            
            if (heroBackground) {
                heroBackground.style.backgroundImage = '';
                heroBackground.style.opacity = '0';
            }
            if (heroOverlay) {
                heroOverlay.style.opacity = '0';
            }
            if (heroRemoveButton) {
                heroRemoveButton.classList.add('hidden');
            }
            
            // Remover del localStorage
            localStorage.removeItem('sanPabloHeroBackground');
            showMessage('Imagen de fondo eliminada', 'success');
        }

        function saveHeroBackground() {
            if (heroBackgroundImage) {
                localStorage.setItem('sanPabloHeroBackground', heroBackgroundImage);
            }
        }

        function loadHeroBackground() {
            const savedHeroBackground = localStorage.getItem('sanPabloHeroBackground');
            if (savedHeroBackground) {
                heroBackgroundImage = savedHeroBackground;
                displayHeroBackground();
            }
        }

        // Funciones para manejo de partidos
        function uploadSanPabloShield() {
            document.getElementById('sanPabloShieldInput').click();
        }

        function uploadRivalShield() {
            document.getElementById('rivalShieldInput').click();
        }

        function handleSanPabloShieldUpload(event) {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                showMessage('Por favor selecciona una imagen v√°lida', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                currentSanPabloShield = e.target.result;
                
                // Mostrar preview
                document.getElementById('san-pablo-shield-upload').classList.add('hidden');
                document.getElementById('san-pablo-shield-preview').classList.remove('hidden');
                document.getElementById('san-pablo-preview-img').src = currentSanPabloShield;
            };
            reader.readAsDataURL(file);
            
            // Reset input
            event.target.value = '';
        }

        function handleRivalShieldUpload(event) {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                showMessage('Por favor selecciona una imagen v√°lida', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                currentRivalShield = e.target.result;
                
                // Mostrar preview
                document.getElementById('rival-shield-upload').classList.add('hidden');
                document.getElementById('rival-shield-preview').classList.remove('hidden');
                document.getElementById('rival-preview-img').src = currentRivalShield;
            };
            reader.readAsDataURL(file);
            
            // Reset input
            event.target.value = '';
        }

        function removeSanPabloShield() {
            currentSanPabloShield = null;
            document.getElementById('san-pablo-shield-upload').classList.remove('hidden');
            document.getElementById('san-pablo-shield-preview').classList.add('hidden');
        }

        function removeRivalShield() {
            currentRivalShield = null;
            document.getElementById('rival-shield-upload').classList.remove('hidden');
            document.getElementById('rival-shield-preview').classList.add('hidden');
        }

        function clearMatchForm() {
            document.getElementById('match-form').reset();
            removeSanPabloShield();
            removeRivalShield();
        }

        // Manejar env√≠o del formulario de partidos
        document.addEventListener('DOMContentLoaded', function() {
            const matchForm = document.getElementById('match-form');
            if (matchForm) {
                matchForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const date = document.getElementById('match-date').value;
                    const location = document.getElementById('match-location').value.trim();
                    const category = document.getElementById('match-category').value;
                    const rival = document.getElementById('match-rival').value.trim();
                    
                    if (!date || !location || !category || !rival) {
                        showMessage('Por favor completa todos los campos obligatorios', 'error');
                        return;
                    }
                    
                    const match = {
                        id: Date.now(),
                        date: date,
                        location: location,
                        category: category,
                        rival: rival,
                        sanPabloShield: currentSanPabloShield,
                        rivalShield: currentRivalShield,
                        status: 'scheduled', // scheduled, finished
                        result: null, // {sanPablo: 0, rival: 0}
                        timestamp: new Date().toISOString()
                    };
                    
                    matches.unshift(match); // Agregar al inicio
                    saveMatches();
                    displayMatches();
                    clearMatchForm();
                    
                    showMessage('¬°Partido programado exitosamente!', 'success');
                });
            }
        });

        function saveMatches() {
            localStorage.setItem('sanPabloMatches', JSON.stringify(matches));
        }

        function loadMatches() {
            const savedMatches = localStorage.getItem('sanPabloMatches');
            if (savedMatches) {
                matches = JSON.parse(savedMatches);
                displayMatches();
            }
        }

        function displayMatches() {
            const container = document.getElementById('matches-container');
            const noMatchesMessage = document.getElementById('no-matches-message');
            
            if (matches.length === 0) {
                container.innerHTML = '';
                noMatchesMessage.classList.remove('hidden');
                return;
            }
            
            noMatchesMessage.classList.add('hidden');
            
            // Separar partidos por estado
            const scheduledMatches = matches.filter(match => match.status === 'scheduled');
            const finishedMatches = matches.filter(match => match.status === 'finished');
            
            let html = '';
            
            // Pr√≥ximos partidos
            if (scheduledMatches.length > 0) {
                html += `
                    <div class="mb-8">
                        <h4 class="text-2xl font-bold text-blue-900 mb-6 text-center">üî• Pr√≥ximos Partidos</h4>
                        <div class="space-y-4">
                            ${scheduledMatches.map(match => renderMatch(match)).join('')}
                        </div>
                    </div>
                `;
            }
            
            // Resultados
            if (finishedMatches.length > 0) {
                html += `
                    <div>
                        <h4 class="text-2xl font-bold text-blue-900 mb-6 text-center">üìä Resultados</h4>
                        <div class="space-y-4">
                            ${finishedMatches.map(match => renderMatch(match)).join('')}
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function renderMatch(match) {
            const categoryIcons = {
                'liga-este': 'üèÜ',
                'veteranos-50': 'ü•á',
                'veteranos-35': 'üèÖ',
                'amistoso': 'ü§ù'
            };
            
            const categoryNames = {
                'liga-este': 'Liga del Este',
                'veteranos-50': 'Veteranos +50',
                'veteranos-35': 'Veteranos +35',
                'amistoso': 'Partido Amistoso'
            };
            
            const matchDate = new Date(match.date);
            const formattedDate = matchDate.toLocaleDateString('es-ES', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const formattedTime = matchDate.toLocaleTimeString('es-ES', {
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const isFinished = match.status === 'finished';
            const isPast = new Date() > matchDate;
            
            return `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden border-2 ${isFinished ? 'border-green-300' : 'border-blue-300'} hover:shadow-xl transition-shadow">
                    <div class="p-6">
                        <!-- Header del partido -->
                        <div class="flex items-center justify-between mb-6">
                            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${isFinished ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}">
                                ${categoryIcons[match.category]} ${categoryNames[match.category]}
                            </span>
                            <div class="text-right">
                                <div class="text-sm font-medium text-gray-900">${formattedDate}</div>
                                <div class="text-sm text-gray-600">${formattedTime}</div>
                            </div>
                        </div>
                        
                        <!-- Equipos y escudos -->
                        <div class="flex items-center justify-between mb-6">
                            <!-- San Pablo -->
                            <div class="flex-1 text-center">
                                <div class="mb-3">
                                    ${match.sanPabloShield ? 
                                        `<img src="${match.sanPabloShield}" alt="San Pablo" class="w-16 h-16 mx-auto object-contain">` :
                                        `<div class="w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center text-2xl">üèÄ</div>`
                                    }
                                </div>
                                <h5 class="font-bold text-blue-900">San Pablo</h5>
                            </div>
                            
                            <!-- VS o Resultado -->
                            <div class="flex-shrink-0 mx-6">
                                ${isFinished && match.result ? 
                                    `<div class="text-center">
                                        <div class="text-3xl font-bold text-gray-900">${match.result.sanPablo} - ${match.result.rival}</div>
                                        <div class="text-sm text-gray-600">Resultado Final</div>
                                    </div>` :
                                    `<div class="text-center">
                                        <div class="text-2xl font-bold text-gray-400">VS</div>
                                        ${isPast && !isFinished ? '<div class="text-xs text-orange-600 font-medium">Pendiente resultado</div>' : ''}
                                    </div>`
                                }
                            </div>
                            
                            <!-- Rival -->
                            <div class="flex-1 text-center">
                                <div class="mb-3">
                                    ${match.rivalShield ? 
                                        `<img src="${match.rivalShield}" alt="${match.rival}" class="w-16 h-16 mx-auto object-contain">` :
                                        `<div class="w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center text-2xl">üõ°Ô∏è</div>`
                                    }
                                </div>
                                <h5 class="font-bold text-gray-900">${match.rival}</h5>
                            </div>
                        </div>
                        
                        <!-- Informaci√≥n del partido -->
                        <div class="bg-gray-50 rounded-lg p-4 mb-4">
                            <div class="flex items-center justify-center">
                                <span class="text-gray-600">üìç ${match.location}</span>
                            </div>
                        </div>
                        
                        <!-- Botones de administraci√≥n -->
                        ${isAuthenticated ? `
                            <div class="flex justify-center gap-3">
                                ${!isFinished && isPast ? `
                                    <button onclick="addResult(${match.id})" 
                                            class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                        üìä Agregar Resultado
                                    </button>
                                ` : ''}
                                ${isFinished ? `
                                    <button onclick="editResult(${match.id})" 
                                            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                        ‚úèÔ∏è Editar Resultado
                                    </button>
                                ` : ''}
                                <button onclick="deleteMatch(${match.id})" 
                                        class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                    üóëÔ∏è Eliminar
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function addResult(matchId) {
            if (!requestAdminAccess()) return;
            showResultModal(matchId, false);
        }

        function editResult(matchId) {
            if (!requestAdminAccess()) return;
            showResultModal(matchId, true);
        }

        function showResultModal(matchId, isEdit) {
            const match = matches.find(m => m.id === matchId);
            if (!match) return;
            
            // Crear overlay
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            overlay.id = 'result-modal';

            // Crear modal
            const modal = document.createElement('div');
            modal.className = 'bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl';
            
            const currentResult = match.result || { sanPablo: 0, rival: 0 };
            
            modal.innerHTML = `
                <div class="text-center mb-6">
                    <div class="text-4xl mb-3">üìä</div>
                    <h3 class="text-xl font-bold text-blue-900 mb-2">${isEdit ? 'Editar' : 'Agregar'} Resultado</h3>
                    <p class="text-gray-600">San Pablo vs ${match.rival}</p>
                </div>
                
                <div class="space-y-4 mb-6">
                    <div class="flex items-center gap-4">
                        <label class="flex-1 text-sm font-medium text-gray-700">San Pablo:</label>
                        <input type="number" id="san-pablo-score" min="0" value="${currentResult.sanPablo}"
                               class="w-20 p-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="flex items-center gap-4">
                        <label class="flex-1 text-sm font-medium text-gray-700">${match.rival}:</label>
                        <input type="number" id="rival-score" min="0" value="${currentResult.rival}"
                               class="w-20 p-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <button onclick="closeResultModal()" 
                            class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-3 rounded-lg font-medium transition-colors">
                        Cancelar
                    </button>
                    <button onclick="saveResult(${matchId})" 
                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                        Guardar
                    </button>
                </div>
            `;

            overlay.appendChild(modal);
            document.body.appendChild(overlay);

            // Enfocar el primer input
            setTimeout(() => {
                document.getElementById('san-pablo-score').focus();
            }, 100);
        }

        function saveResult(matchId) {
            const sanPabloScore = parseInt(document.getElementById('san-pablo-score').value) || 0;
            const rivalScore = parseInt(document.getElementById('rival-score').value) || 0;
            
            const match = matches.find(m => m.id === matchId);
            if (match) {
                match.result = {
                    sanPablo: sanPabloScore,
                    rival: rivalScore
                };
                match.status = 'finished';
                
                saveMatches();
                displayMatches();
                closeResultModal();
                
                showMessage('¬°Resultado guardado exitosamente!', 'success');
            }
        }

        function closeResultModal() {
            const modal = document.getElementById('result-modal');
            if (modal) {
                modal.remove();
            }
        }

        function deleteMatch(matchId) {
            if (!requestAdminAccess()) return;
            
            const match = matches.find(m => m.id === matchId);
            if (!match) return;
            
            // Crear modal de confirmaci√≥n personalizado
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center';
            overlay.id = 'delete-modal';

            const modal = document.createElement('div');
            modal.className = 'bg-white rounded-xl p-8 max-w-md w-full mx-4 shadow-2xl';
            
            modal.innerHTML = `
                <div class="text-center mb-6">
                    <div class="text-4xl mb-3">‚ö†Ô∏è</div>
                    <h3 class="text-xl font-bold text-red-900 mb-2">Confirmar Eliminaci√≥n</h3>
                    <p class="text-gray-600">¬øEst√°s seguro de eliminar este partido?</p>
                    <p class="text-sm text-gray-500 mt-2">San Pablo vs ${match.rival}</p>
                </div>
                
                <div class="flex gap-3">
                    <button onclick="closeDeleteModal()" 
                            class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-3 rounded-lg font-medium transition-colors">
                        Cancelar
                    </button>
                    <button onclick="confirmDeleteMatch(${matchId})" 
                            class="flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                        Eliminar
                    </button>
                </div>
            `;

            overlay.appendChild(modal);
            document.body.appendChild(overlay);
        }

        function confirmDeleteMatch(matchId) {
            matches = matches.filter(match => match.id !== matchId);
            saveMatches();
            displayMatches();
            closeDeleteModal();
            showMessage('Partido eliminado correctamente', 'success');
        }

        function closeDeleteModal() {
            const modal = document.getElementById('delete-modal');
            if (modal) {
                modal.remove();
            }
        }

        // Load saved data on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSchedule();
            loadLogo();
            loadGalleries();
            loadNews();
            loadHeroBackground();
            loadMatches();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'995c7a3377c21eb6',t:'MTc2MTY3NTk0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
